<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Simulado de Geografia - 8º Ano</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* [Estilos CSS como no código anterior] */
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f8ff;
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        h1 {
            color: #2e8b57;
            font-size: 2em;
        }
        #description {
            max-width: 800px;
            margin: 20px auto;
            text-align: left;
            font-size: 1.1em;
            color: #333;
        }
        #description h2, #description h3 {
            color: #2e8b57;
            font-size: 1.5em;
        }
        #description ul {
            list-style-type: disc;
            margin-left: 20px;
        }
        #question-container, #summary-screen, #results {
            margin: 20px auto;
            max-width: 600px;
            text-align: left;
            display: none;
        }
        .question {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .options label {
            display: block;
            margin-bottom: 10px;
            cursor: pointer;
            font-size: 1.1em;
        }
        .options input {
            margin-right: 10px;
        }
        #buttons {
            margin: 20px;
        }
        button {
            background-color: #2e8b57;
            color: white;
            border: none;
            padding: 15px 25px;
            margin: 5px;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
        }
        button:hover {
            background-color: #3cb371;
        }
        .back-button {
            background-color: #555;
        }
        .back-button:hover {
            background-color: #777;
        }
        #results {
            text-align: left;
        }
        .correct {
            color: green;
        }
        .incorrect {
            color: red;
        }
        .explanation {
            margin-left: 20px;
        }
        #footer {
            margin-top: 40px;
            font-size: 0.9em;
            color: #555;
        }
        @media screen and (max-width: 600px) {
            body {
                padding: 10px;
            }
            h1 {
                font-size: 1.5em;
            }
            #description {
                font-size: 1em;
            }
            #description h2, #description h3 {
                font-size: 1.2em;
            }
            .options label {
                font-size: 1em;
            }
            button {
                width: 100%;
                margin: 10px 0;
                font-size: 1.1em;
                padding: 15px;
            }
            #footer {
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body>
    <h1>Simulado de Geografia - 8º Ano</h1>
    <div id="description">
        <!-- [Descrição como no código anterior] -->
        <h2>Como Utilizar o Simulado</h2>
        <p>
            Bem-vindo ao Simulado de Geografia do 8º Ano! Este simulado foi criado para ajudá-lo a revisar e testar seus conhecimentos sobre os principais temas de Geografia. Siga as instruções abaixo para aproveitar ao máximo este recurso educativo.
        </p>
        <!-- [Resto da descrição] -->
        <h3>Nota para Usuários de Celular</h3>
        <p>
            Para uma melhor experiência em dispositivos móveis, recomendamos visualizar este simulado na orientação horizontal (paisagem).
        </p>
        <p>
            Esperamos que este simulado seja útil em seus estudos. Boa sorte!
        </p>
    </div>
    <div id="question-container">
        <div id="question-area"></div>
    </div>
    <div id="buttons">
        <button id="generate-btn">Gerar Pergunta</button>
        <button id="finish-btn">Finalizar o Simulado</button>
        <button id="summary-btn">Ver Resumos</button>
        <button id="reset-btn">Resetar Simulado</button>
    </div>
    <div id="results"></div>
    <div id="summary-screen">
        <h2>Resumos para Estudo</h2>
        <div id="summary-content"></div>
        <button id="back-btn" class="back-button">Voltar</button>
    </div>

    <div id="footer">
        <p>Este site foi criado por Guilherme Paz.</p>
    </div>

    <script>
        // Arrays para armazenar as perguntas e as respostas do usuário
        const allQuestions = [
            // América do Sul (10 questões)
            {
                topic: "América do Sul",
                question: "Qual é a cordilheira mais extensa da América do Sul?",
                options: ["Andes", "Alpes", "Himalaia", "Montes Urais"],
                correctAnswer: "Andes",
                explanation: "Os Andes são a cordilheira mais extensa da América do Sul, estendendo-se ao longo da costa oeste.",
                summary: "A Cordilheira dos Andes é a mais longa cadeia de montanhas continental do mundo."
            },
            {
                topic: "América do Sul",
                question: "Qual país da América do Sul é conhecido por ter duas capitais oficiais?",
                options: ["Bolívia", "Peru", "Equador", "Venezuela"],
                correctAnswer: "Bolívia",
                explanation: "A Bolívia tem duas capitais: Sucre (constitucional) e La Paz (sede do governo).",
                summary: "A Bolívia possui duas capitais, Sucre e La Paz, dividindo funções administrativas."
            },
            {
                topic: "América do Sul",
                question: "Qual é o rio mais extenso da América do Sul?",
                options: ["Rio Amazonas", "Rio Nilo", "Rio Mississipi", "Rio Paraná"],
                correctAnswer: "Rio Amazonas",
                explanation: "O Rio Amazonas é o mais extenso e volumoso da América do Sul e do mundo.",
                summary: "O Rio Amazonas é o maior rio em volume de água e extensão na América do Sul."
            },
            {
                topic: "América do Sul",
                question: "Qual país sul-americano é famoso por suas Ilhas Galápagos?",
                options: ["Equador", "Chile", "Colômbia", "Peru"],
                correctAnswer: "Equador",
                explanation: "As Ilhas Galápagos pertencem ao Equador e são conhecidas por sua biodiversidade única.",
                summary: "O Equador administra as Ilhas Galápagos, famosas pela diversidade de espécies."
            },
            // [Outras 6 questões do tópico "América do Sul"]
            {
                topic: "América do Sul",
                question: "Qual país é o maior produtor de petróleo na América do Sul?",
                options: ["Venezuela", "Brasil", "Argentina", "Colômbia"],
                correctAnswer: "Venezuela",
                explanation: "A Venezuela possui as maiores reservas comprovadas de petróleo na América do Sul.",
                summary: "A Venezuela lidera na produção de petróleo na América do Sul devido às vastas reservas."
            },
            {
                topic: "América do Sul",
                question: "Em que país está localizada a maior parte da Floresta Amazônica?",
                options: ["Brasil", "Peru", "Colômbia", "Bolívia"],
                correctAnswer: "Brasil",
                explanation: "Cerca de 60% da Floresta Amazônica está localizada no Brasil.",
                summary: "A maior porção da Amazônia fica no Brasil, sendo crucial para a biodiversidade."
            },
            {
                topic: "América do Sul",
                question: "Qual país sul-americano é conhecido por sua indústria vinícola, especialmente na região de Mendoza?",
                options: ["Argentina", "Chile", "Uruguai", "Paraguai"],
                correctAnswer: "Argentina",
                explanation: "A região de Mendoza, na Argentina, é famosa pela produção de vinhos de alta qualidade.",
                summary: "A Argentina, especialmente Mendoza, é renomada pela produção de vinhos."
            },
            {
                topic: "América do Sul",
                question: "Qual país sul-americano é famoso pelo carnaval na cidade de Oruro?",
                options: ["Bolívia", "Brasil", "Peru", "Equador"],
                correctAnswer: "Bolívia",
                explanation: "O Carnaval de Oruro, na Bolívia, é um dos mais importantes da América do Sul.",
                summary: "A Bolívia celebra o famoso Carnaval de Oruro, patrimônio cultural da humanidade."
            },
            {
                topic: "América do Sul",
                question: "Qual destes países é o único da América do Sul com litoral apenas no Oceano Atlântico?",
                options: ["Uruguai", "Chile", "Peru", "Colômbia"],
                correctAnswer: "Uruguai",
                explanation: "O Uruguai tem litoral apenas no Oceano Atlântico, ao contrário de outros países com acesso ao Pacífico ou aos dois oceanos.",
                summary: "O Uruguai possui costa exclusivamente no Oceano Atlântico na América do Sul."
            },
            {
                topic: "América do Sul",
                question: "Qual país da América do Sul não possui acesso ao mar?",
                options: ["Paraguai", "Chile", "Equador", "Guiana"],
                correctAnswer: "Paraguai",
                explanation: "O Paraguai é um dos dois países sul-americanos sem litoral, o outro sendo a Bolívia.",
                summary: "Paraguai e Bolívia são países da América do Sul sem saída para o mar."
            },
            // Aproveitamento dos Recursos Naturais (10 questões)
            {
                topic: "Aproveitamento dos Recursos Naturais",
                question: "A que se refere o termo 'energia eólica'?",
                options: ["Energia gerada pelo sol", "Energia gerada pelo vento", "Energia gerada pela água", "Energia gerada por combustíveis fósseis"],
                correctAnswer: "Energia gerada pelo vento",
                explanation: "Energia eólica é obtida a partir do vento utilizando aerogeradores.",
                summary: "A energia eólica é a eletricidade produzida pelo movimento do vento."
            },
            {
                topic: "Aproveitamento dos Recursos Naturais",
                question: "O que é a mineração a céu aberto?",
                options: ["Extração de recursos em minas subterrâneas", "Extração de recursos em rios", "Extração de recursos na superfície terrestre", "Extração de recursos no mar"],
                correctAnswer: "Extração de recursos na superfície terrestre",
                explanation: "Mineração a céu aberto ocorre quando os minerais são extraídos diretamente da superfície.",
                summary: "Mineração a céu aberto é a extração superficial de minerais expostos."
            },
            // [Outras 8 questões do tópico "Aproveitamento dos Recursos Naturais"]
            {
                topic: "Aproveitamento dos Recursos Naturais",
                question: "Qual é o principal impacto ambiental da queima de combustíveis fósseis?",
                options: ["Aumento da camada de ozônio", "Aquecimento global", "Redução da poluição", "Melhoria da qualidade do ar"],
                correctAnswer: "Aquecimento global",
                explanation: "A queima de combustíveis fósseis libera gases de efeito estufa, contribuindo para o aquecimento global.",
                summary: "Combustíveis fósseis aumentam o aquecimento global devido à emissão de gases poluentes."
            },
            {
                topic: "Aproveitamento dos Recursos Naturais",
                question: "O que é deserto em expansão devido à atividade humana chamado?",
                options: ["Desflorestamento", "Desertificação", "Urbanização", "Reflorestamento"],
                correctAnswer: "Desertificação",
                explanation: "Desertificação é o processo de degradação de terras áridas, semiáridas e subúmidas.",
                summary: "Desertificação é a transformação de áreas férteis em desertos por ações humanas."
            },
            {
                topic: "Aproveitamento dos Recursos Naturais",
                question: "Qual é um exemplo de recurso natural não renovável?",
                options: ["Petróleo", "Vento", "Sol", "Biomassa"],
                correctAnswer: "Petróleo",
                explanation: "O petróleo é um recurso finito que não pode ser renovado em escala humana.",
                summary: "Petróleo é um recurso não renovável usado como fonte de energia."
            },
            {
                topic: "Aproveitamento dos Recursos Naturais",
                question: "A prática de plantar árvores em áreas desmatadas é conhecida como:",
                options: ["Desflorestamento", "Agropecuária", "Reflorestamento", "Mineração"],
                correctAnswer: "Reflorestamento",
                explanation: "Reflorestamento é o replantio de árvores para recuperar florestas degradadas.",
                summary: "Reflorestamento visa restaurar áreas florestais desmatadas ou degradadas."
            },
            {
                topic: "Aproveitamento dos Recursos Naturais",
                question: "A camada de ozônio protege a Terra de:",
                options: ["Chuvas ácidas", "Radiação ultravioleta", "Ondas de calor", "Tempestades solares"],
                correctAnswer: "Radiação ultravioleta",
                explanation: "A camada de ozônio absorve a maior parte da radiação UV nociva do Sol.",
                summary: "A camada de ozônio filtra raios UV, protegendo os seres vivos na Terra."
            },
            {
                topic: "Aproveitamento dos Recursos Naturais",
                question: "O que são recursos hídricos?",
                options: ["Recursos relacionados ao vento", "Recursos relacionados ao solo", "Recursos relacionados à água", "Recursos relacionados ao fogo"],
                correctAnswer: "Recursos relacionados à água",
                explanation: "Recursos hídricos referem-se às fontes de água disponíveis para uso.",
                summary: "Recursos hídricos são as reservas de água doce disponíveis no planeta."
            },
            {
                topic: "Aproveitamento dos Recursos Naturais",
                question: "A energia geotérmica é obtida a partir de:",
                options: ["Movimento das marés", "Calor interno da Terra", "Radiação solar", "Ventos fortes"],
                correctAnswer: "Calor interno da Terra",
                explanation: "Energia geotérmica utiliza o calor do interior da Terra para gerar energia.",
                summary: "Energia geotérmica é a energia do calor proveniente do interior terrestre."
            },
            {
                topic: "Aproveitamento dos Recursos Naturais",
                question: "Qual é o objetivo principal da reciclagem?",
                options: ["Aumentar o consumo", "Reduzir a poluição", "Destruir resíduos", "Produzir energia"],
                correctAnswer: "Reduzir a poluição",
                explanation: "A reciclagem visa diminuir a quantidade de resíduos e a poluição ambiental.",
                summary: "Reciclagem reduz resíduos, economiza recursos e diminui a poluição."
            },
            {
                topic: "Aproveitamento dos Recursos Naturais",
                question: "O uso sustentável dos recursos naturais implica em:",
                options: ["Exploração máxima dos recursos", "Conservação para futuras gerações", "Desconsiderar o meio ambiente", "Eliminar a biodiversidade"],
                correctAnswer: "Conservação para futuras gerações",
                explanation: "Uso sustentável busca equilibrar as necessidades atuais sem comprometer as futuras.",
                summary: "Sustentabilidade é usar recursos naturais sem esgotá-los, garantindo o futuro."
            },
            // Integração dos Países (10 questões)
            {
                topic: "Integração dos Países",
                question: "Qual organização foi criada para substituir a Liga das Nações após a Segunda Guerra Mundial?",
                options: ["OTAN", "ONU", "OEA", "UE"],
                correctAnswer: "ONU",
                explanation: "A Organização das Nações Unidas (ONU) foi criada em 1945 para promover a paz.",
                summary: "A ONU é uma organização internacional fundada para manter a paz e segurança global."
            },
            {
                topic: "Integração dos Países",
                question: "O que significa a sigla NAFTA?",
                options: ["Acordo Norte-Americano de Livre Comércio", "Aliança Nacional de Forças Terrestres", "Associação Nórdica de Futebol e Tênis", "Nenhuma das anteriores"],
                correctAnswer: "Acordo Norte-Americano de Livre Comércio",
                explanation: "O NAFTA é um acordo comercial entre EUA, Canadá e México.",
                summary: "NAFTA foi um tratado de livre comércio entre EUA, Canadá e México."
            },
            // [Outras 8 questões do tópico "Integração dos Países"]
            {
                topic: "Integração dos Países",
                question: "A moeda única adotada por muitos países da União Europeia é o:",
                options: ["Dólar", "Euro", "Libra", "Franco"],
                correctAnswer: "Euro",
                explanation: "O Euro é a moeda comum adotada por diversos países da UE.",
                summary: "Euro é a moeda oficial de muitos países membros da União Europeia."
            },
            {
                topic: "Integração dos Países",
                question: "Qual é o principal objetivo da Organização Mundial do Comércio (OMC)?",
                options: ["Regular o comércio internacional", "Promover conflitos comerciais", "Controlar taxas de câmbio", "Gerenciar reservas de ouro"],
                correctAnswer: "Regular o comércio internacional",
                explanation: "A OMC supervisiona e liberaliza o comércio internacional entre países.",
                summary: "A OMC regula o comércio global para promover relações comerciais justas."
            },
            {
                topic: "Integração dos Países",
                question: "Qual bloco econômico é composto por países da Ásia Oriental, como China, Japão e Coreia do Sul?",
                options: ["ASEAN", "APEC", "MERCOSUL", "Nenhuma das anteriores"],
                correctAnswer: "APEC",
                explanation: "A Cooperação Econômica Ásia-Pacífico (APEC) inclui países da Ásia e Pacífico.",
                summary: "APEC é um fórum econômico para 21 economias do Pacífico Asiático."
            },
            {
                topic: "Integração dos Países",
                question: "O que é globalização?",
                options: ["Isolamento econômico", "Integração mundial", "Desenvolvimento local", "Regionalização"],
                correctAnswer: "Integração mundial",
                explanation: "Globalização é o processo de interação e integração entre pessoas, empresas e governos.",
                summary: "Globalização refere-se à crescente interdependência das economias mundiais."
            },
            {
                topic: "Integração dos Países",
                question: "Qual organização é responsável por questões relacionadas à saúde internacional?",
                options: ["OMS", "ONU", "OTAN", "OIT"],
                correctAnswer: "OMS",
                explanation: "A Organização Mundial da Saúde (OMS) é uma agência da ONU especializada em saúde.",
                summary: "OMS é a agência da ONU dedicada a promover a saúde global."
            },
            {
                topic: "Integração dos Países",
                question: "Qual é o objetivo principal do Acordo de Paris?",
                options: ["Combater as mudanças climáticas", "Promover o comércio livre", "Estabelecer fronteiras", "Desenvolver tecnologia nuclear"],
                correctAnswer: "Combater as mudanças climáticas",
                explanation: "O Acordo de Paris visa limitar o aquecimento global reduzindo emissões de gases.",
                summary: "O Acordo de Paris é um tratado internacional para reduzir as mudanças climáticas."
            },
            {
                topic: "Integração dos Países",
                question: "A OPEP é uma organização que reúne países produtores de:",
                options: ["Gás natural", "Petróleo", "Carvão", "Energia nuclear"],
                correctAnswer: "Petróleo",
                explanation: "A Organização dos Países Exportadores de Petróleo coordena políticas de petróleo.",
                summary: "A OPEP é um cartel que coordena a política de petróleo entre países membros."
            },
            {
                topic: "Integração dos Países",
                question: "Qual é o papel do FMI (Fundo Monetário Internacional)?",
                options: ["Fornecer assistência financeira", "Produzir bens de consumo", "Regular o comércio de armas", "Controlar a internet"],
                correctAnswer: "Fornecer assistência financeira",
                explanation: "O FMI oferece empréstimos a países com dificuldades econômicas.",
                summary: "FMI ajuda a estabilizar economias fornecendo apoio financeiro e técnico."
            },
            {
                topic: "Integração dos Países",
                question: "Qual desses não é um bloco econômico?",
                options: ["MERCOSUL", "OTAN", "UE", "NAFTA"],
                correctAnswer: "OTAN",
                explanation: "A OTAN é uma aliança militar, não um bloco econômico.",
                summary: "OTAN é uma organização de defesa coletiva, não um bloco econômico."
            },
            // Brasil e sua Importância Regional (10 questões)
            {
                topic: "Brasil e sua Importância Regional",
                question: "Qual é a posição do Brasil em termos de economia mundial?",
                options: ["Primeiro", "Sexto", "Nono", "Décimo segundo"],
                correctAnswer: "Nono",
                explanation: "O Brasil está entre as dez maiores economias do mundo, ocupando a nona posição.",
                summary: "O Brasil é a nona maior economia global, destacando-se na América Latina."
            },
            {
                topic: "Brasil e sua Importância Regional",
                question: "Qual é o bioma brasileiro caracterizado por savanas tropicais?",
                options: ["Amazônia", "Mata Atlântica", "Cerrado", "Pampa"],
                correctAnswer: "Cerrado",
                explanation: "O Cerrado é um bioma de savana tropical presente no Brasil Central.",
                summary: "Cerrado é o segundo maior bioma brasileiro, conhecido por sua biodiversidade."
            },
            // [Outras 8 questões do tópico "Brasil e sua Importância Regional"]
            {
                topic: "Brasil e sua Importância Regional",
                question: "Qual é o maior estado brasileiro em extensão territorial?",
                options: ["Amazonas", "São Paulo", "Mato Grosso", "Pará"],
                correctAnswer: "Amazonas",
                explanation: "O estado do Amazonas é o maior do Brasil em área territorial.",
                summary: "Amazonas é o maior estado do Brasil, localizado na região Norte."
            },
            {
                topic: "Brasil e sua Importância Regional",
                question: "Em que ano o Brasil sediou os Jogos Olímpicos de Verão?",
                options: ["2008", "2012", "2016", "2020"],
                correctAnswer: "2016",
                explanation: "O Rio de Janeiro foi a sede das Olimpíadas de 2016.",
                summary: "O Brasil sediou os Jogos Olímpicos em 2016, no Rio de Janeiro."
            },
            {
                topic: "Brasil e sua Importância Regional",
                question: "Qual é o principal recurso natural explorado na Bacia de Campos, no Brasil?",
                options: ["Carvão", "Petróleo", "Ouro", "Diamantes"],
                correctAnswer: "Petróleo",
                explanation: "A Bacia de Campos é a principal região produtora de petróleo no Brasil.",
                summary: "Petróleo é extraído na Bacia de Campos, sendo vital para a economia brasileira."
            },
            {
                topic: "Brasil e sua Importância Regional",
                question: "O Brasil é o maior produtor mundial de qual produto agrícola?",
                options: ["Soja", "Arroz", "Milho", "Trigo"],
                correctAnswer: "Soja",
                explanation: "O Brasil lidera a produção e exportação mundial de soja.",
                summary: "A soja é um dos principais produtos agrícolas exportados pelo Brasil."
            },
            {
                topic: "Brasil e sua Importância Regional",
                question: "Qual região brasileira é conhecida por sua produção de cacau?",
                options: ["Nordeste", "Norte", "Sudeste", "Sul"],
                correctAnswer: "Nordeste",
                explanation: "A Bahia, no Nordeste, é um grande produtor de cacau no Brasil.",
                summary: "A região Nordeste, especialmente a Bahia, destaca-se na produção de cacau."
            },
            {
                topic: "Brasil e sua Importância Regional",
                question: "Qual destes países não faz parte do MERCOSUL?",
                options: ["Brasil", "Argentina", "México", "Paraguai"],
                correctAnswer: "México",
                explanation: "O México não é membro pleno do MERCOSUL.",
                summary: "México não integra o MERCOSUL; este bloco é formado por países da América do Sul."
            },
            {
                topic: "Brasil e sua Importância Regional",
                question: "Qual é a principal fonte de energia elétrica no Brasil?",
                options: ["Termelétricas", "Nuclear", "Hidrelétricas", "Eólicas"],
                correctAnswer: "Hidrelétricas",
                explanation: "A maior parte da energia elétrica no Brasil é gerada por hidrelétricas.",
                summary: "Hidrelétricas são a principal fonte de energia elétrica no Brasil."
            },
            {
                topic: "Brasil e sua Importância Regional",
                question: "Qual foi a capital do Brasil antes de Brasília?",
                options: ["São Paulo", "Rio de Janeiro", "Salvador", "Belo Horizonte"],
                correctAnswer: "Rio de Janeiro",
                explanation: "Antes de Brasília, o Rio de Janeiro foi a capital do Brasil até 1960.",
                summary: "Rio de Janeiro foi a capital brasileira antes da construção de Brasília."
            },
            {
                topic: "Brasil e sua Importância Regional",
                question: "O Brasil é um país localizado em qual hemisfério?",
                options: ["Norte", "Sul", "Leste", "Oeste"],
                correctAnswer: "Sul",
                explanation: "A maior parte do território brasileiro está no hemisfério sul.",
                summary: "Brasil situa-se predominantemente no hemisfério sul do globo."
            }
        ];

        let remainingQuestions = [];
        let userAnswers = [];
        let displayedQuestions = [];

        // Função para gerar uma pergunta aleatória sem repetir
        function generateQuestion() {
            if (remainingQuestions.length === 0) {
                alert("Você já respondeu todas as perguntas disponíveis!");
                return;
            }

            document.getElementById('question-container').style.display = 'block';
            const questionArea = document.getElementById('question-area');
            questionArea.innerHTML = '';

            // Seleciona uma pergunta aleatória
            const randomIndex = Math.floor(Math.random() * remainingQuestions.length);
            const currentQuestion = remainingQuestions[randomIndex];

            // Remove a pergunta do array de perguntas restantes
            remainingQuestions.splice(randomIndex, 1);
            displayedQuestions.push(currentQuestion);

            // Cria o elemento da pergunta
            const questionDiv = document.createElement('div');
            questionDiv.className = 'question';

            const questionTitle = document.createElement('h2');
            questionTitle.textContent = currentQuestion.question;
            questionDiv.appendChild(questionTitle);

            // Cria as opções
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options';

            currentQuestion.options.forEach(option => {
                const label = document.createElement('label');
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = 'option';
                input.value = option;
                label.appendChild(input);
                label.appendChild(document.createTextNode(option));
                optionsDiv.appendChild(label);
            });

            questionDiv.appendChild(optionsDiv);
            questionArea.appendChild(questionDiv);

            // Armazena a resposta do usuário
            optionsDiv.addEventListener('change', function (e) {
                userAnswers = userAnswers.filter(answer => answer.question !== currentQuestion.question);
                userAnswers.push({
                    question: currentQuestion.question,
                    userAnswer: e.target.value,
                    correctAnswer: currentQuestion.correctAnswer,
                    explanation: currentQuestion.explanation,
                    summary: currentQuestion.summary
                });
            });
        }

        // Função para finalizar o simulado e mostrar os resultados
        function finishQuiz() {
            if (userAnswers.length === 0) {
                alert("Você não respondeu nenhuma pergunta!");
                return;
            }

            document.getElementById('question-container').style.display = 'none';
            document.getElementById('results').style.display = 'block';
            document.getElementById('summary-screen').style.display = 'none';
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<h2>Resultado Final</h2>';

            const correctAnswers = userAnswers.filter(answer => answer.userAnswer === answer.correctAnswer);
            const incorrectAnswers = userAnswers.filter(answer => answer.userAnswer !== answer.correctAnswer);

            resultsDiv.innerHTML += `<p>Questões corretas: ${correctAnswers.length}</p>`;
            resultsDiv.innerHTML += `<p>Questões incorretas: ${incorrectAnswers.length}</p>`;

            if (correctAnswers.length > 0) {
                resultsDiv.innerHTML += '<h3 class="correct">Respostas Corretas:</h3>';
                correctAnswers.forEach(answer => {
                    resultsDiv.innerHTML += `<p>${answer.question}<br><strong>Sua resposta:</strong> ${answer.userAnswer}</p>`;
                });
            }

            if (incorrectAnswers.length > 0) {
                resultsDiv.innerHTML += '<h3 class="incorrect">Respostas Incorretas:</h3>';
                incorrectAnswers.forEach(answer => {
                    resultsDiv.innerHTML += `<p>${answer.question}<br><strong>Sua resposta:</strong> ${answer.userAnswer}<br><strong>Resposta correta:</strong> ${answer.correctAnswer}<br><span class="explanation"><strong>Explicação:</strong> ${answer.explanation}</span></p>`;
                });
            }

            resultsDiv.innerHTML += '<button onclick="resetQuiz()">Reiniciar o Simulado</button>';
        }

        // Função para mostrar os resumos
        function showSummaries() {
            if (userAnswers.length === 0) {
                alert("Você ainda não respondeu nenhuma pergunta!");
                return;
            }

            document.getElementById('description').style.display = 'none';
            document.getElementById('buttons').style.display = 'none';
            document.getElementById('question-container').style.display = 'none';
            document.getElementById('results').style.display = 'none';
            document.getElementById('summary-screen').style.display = 'block';

            const summaryContent = document.getElementById('summary-content');
            summaryContent.innerHTML = '';

            userAnswers.forEach(answer => {
                const summaryDiv = document.createElement('div');
                summaryDiv.className = 'question';

                const questionTitle = document.createElement('h3');
                questionTitle.textContent = answer.question;
                summaryDiv.appendChild(questionTitle);

                const summaryText = document.createElement('p');
                summaryText.textContent = answer.summary;
                summaryDiv.appendChild(summaryText);

                summaryContent.appendChild(summaryDiv);
            });
        }

        // Função para voltar à tela inicial
        function goBack() {
            document.getElementById('summary-screen').style.display = 'none';
            document.getElementById('description').style.display = 'block';
            document.getElementById('buttons').style.display = 'block';
        }

        // Função para resetar o simulado
        function resetQuiz() {
            remainingQuestions = [...allQuestions];
            userAnswers = [];
            displayedQuestions = [];
            document.getElementById('question-container').style.display = 'none';
            document.getElementById('results').style.display = 'none';
            document.getElementById('summary-screen').style.display = 'none';
            document.getElementById('question-area').innerHTML = '';
            document.getElementById('summary-content').innerHTML = '';
        }

        // Eventos dos botões
        document.getElementById('generate-btn').addEventListener('click', () => {
            document.getElementById('description').style.display = 'none';
            generateQuestion();
        });
        document.getElementById('finish-btn').addEventListener('click', finishQuiz);
        document.getElementById('reset-btn').addEventListener('click', () => {
            resetQuiz();
            document.getElementById('description').style.display = 'block';
        });
        document.getElementById('summary-btn').addEventListener('click', showSummaries);
        document.getElementById('back-btn').addEventListener('click', goBack);

        // Inicializa o simulado
        resetQuiz();
    </script>
</body>
</html>
